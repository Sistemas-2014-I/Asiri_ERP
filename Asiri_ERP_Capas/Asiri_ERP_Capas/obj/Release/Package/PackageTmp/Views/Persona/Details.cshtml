@model Common.RHUt09_persona

@{
    ViewBag.Title = "Detalle";
}

<div class="row">
    <!--CODIGO MODIFICAR-->
    <div class="col-lg-12">
        <div class="card">
            <!--*********************************************AQUÍ MODIFICAR CARD***************************-->
            <h3 class="card-title"></h3>
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()

                <div class="" id="tabs">
                    <div class="wrapper">
                        <div class="container">
                            <div class="bs-example bs-example-tabs" role="tabpanel" data-example-id="togglable-tabs">
                                <!--TABS-->
                                <ul id="myTab" class="nav nav-tabs nav-tabs-responsive" role="tablist">

                                    <li role="presentation" class="active">
                                        <a href="#tab1" id="idTab1" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true">
                                            <span class="text">Inf. Básica</span>
                                        </a>
                                    </li>

                                    <li role="presentation" class="next">
                                        <a href="#tab2" role="tab" id="idTab2" data-toggle="tab" aria-controls="profile">
                                            <span class="text">Inf. Secundaria</span>
                                        </a>
                                    </li>

                                </ul>


                                <div id="myTabContent" class="tab-content">
                                    <!--INFOBASICA-->
                                    <div role="tabpanel" class="tab-pane fade in active" id="tab1" aria-labelledby="home-tab">
                                        <div class="form-horizontal">
                                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                                            <div class="col-md-6">
                                                <div class="card">
                                                    <!-- **********PARTE 1******** -->
                                                    <!---h3 class="card-title">*</!--h3-->
                                                    <div class="card-body">

                                                        @*VALIDAR**@
                                                        @*DATOS REQUERIDOS PARA EDITAR*@
                                                        <div class="form-group" style="display:none">
                                                            @Html.LabelFor(model => model.idPersona, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.idPersona, new { htmlAttributes = new { @class = "form-control" } })
                                                                @Html.ValidationMessageFor(model => model.idPersona, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        @*FIN DE DATOS REQUERIDOS PARA EDITAR*@

                                                        <input type="text" id="validar" name="validar" value="@ViewBag.validar" style="display:none" />
                                                        @*@Html.Label("Validar", (string)@ViewBag.Validar+"")*@
                                                        <div class="form-group" style="display:none">
                                                            <div class="col-md-8">
                                                                @*@Html.EditorFor(model => model.idUsuario, new { htmlAttributes = new { @class = "form-control" , @value="1"} })*@
                                                                <input type="text" value="1" id="idUsuario" name="idUsuario" />
                                                                @Html.ValidationMessageFor(model => model.idUsuario, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <div class="form-group" style="display:none">
                                                            @Html.LabelFor(model => model.tipoPersoneria, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.tipoPersoneria, new { htmlAttributes = new { @class = "form-control" } })
                                                                @Html.ValidationMessageFor(model => model.tipoPersoneria, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--NAME-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.nombrePersona, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.nombrePersona, new { htmlAttributes = new { @class = "form-control nombrePersona", @readonly=true , @placeholder = "Ingrese nombre completo", @onpaste = "return false", @onkeyup = "return coverTexto(event, this.name)", onkeypress = "return soloLetras(event);", @id = "nombrePersona", @name = "nombrePersona", @title = "Se necesita Nombre" } })
                                                                @Html.ValidationMessageFor(model => model.nombrePersona, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--SURNAME1-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.apellidoPaterno, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.apellidoPaterno, new { htmlAttributes = new { @class = "form-control", @readonly = true , @placeholder = "Ingrese Apellido Paterno", @onpaste = "return false", @onkeyup = "return coverTexto(event, this.name)", onkeypress = "return soloLetras(event);", @id = "apellidoPaterno", @name = "apellidoMaterno", @title = "Se necesita un Apellido Paterno" } })
                                                                @Html.ValidationMessageFor(model => model.apellidoPaterno, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--SURNAME2-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.apellidoMaterno, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.apellidoMaterno, new { htmlAttributes = new { @class = "form-control", @readonly = true, @placeholder = "Ingrese Apellido Materno", @onpaste = "return false", @onkeyup = "return coverTexto(event, this.name)", onkeypress = "return soloLetras(event);", @id = "apellidoMaterno", @name = "apellidoMaterno", @title = "Se necesita un Apellido Materno" } })
                                                                @Html.ValidationMessageFor(model => model.apellidoMaterno, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--DOC-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.idTipoDocIdentidad, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.DropDownListFor(model => model.idTipoDocIdentidad, new SelectList((System.Collections.IEnumerable)ViewData["idTipoDocIdentidad"], "Value", "Text", "--Seleccionar--"), htmlAttributes: new { @class = "form-control selDiv", @disabled="disables" })
                                                                @Html.ValidationMessageFor(model => model.idTipoDocIdentidad, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>

                                                        <!--NUMBERDOC-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.numDocIdentidad, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-6">
                                                                @Html.EditorFor(model => model.numDocIdentidad, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", required = "required", placeholder = "Ingrese N° de Documento",  @onkeypress = "return solonumeros(event)", @onpaste = "return copyNumero(event)" } })
                                                                @Html.ValidationMessageFor(model => model.numDocIdentidad, "", new { @class = "text-danger" })
                                                            </div>
                                                            <a id="btn_buscar" value="" class="btn btn-success icon-btn disabled">
                                                                <i class="fa fa-fw fa-lg fa-search">
                                                                </i>
                                                            </a>&nbsp;&nbsp;&nbsp;
                                                        </div>


                                                        <!--REASONSOC-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.razonSocial, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.razonSocial, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese Razón Social " } })
                                                                @Html.ValidationMessageFor(model => model.razonSocial, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--MARITALSTATUS-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.idEstadoCivil, "Estado Civil:", htmlAttributes: new { @class = "control-label col-md-3"})
                                                            <div class="col-md-8">
                                                                @Html.DropDownList("idEstadoCivil", null, htmlAttributes: new { @class = "form-control",@disabled = "disabled" })
                                                                @Html.ValidationMessageFor(model => model.idEstadoCivil, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.numTelefonico01, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.numTelefonico01, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese N° de Teléfono/Celular", @onkeypress = "return solonumeros(event)", @onpaste = "return copyNumero(event)" } })
                                                                @Html.ValidationMessageFor(model => model.numTelefonico01, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="card">
                                                    <!---h3 class="card-title">Básica 2</h3-->
                                                    <div class="card-body">

                                                        <!--DATEBIRTHDAY-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.fecNacimiento, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.fecNacimiento, "{0:dd/MM/yyyy}", new { htmlAttributes = new { @class = "form-control datetime ", @readonly = "readonly",  @style = "z-index: 999", @type = "text", @placeholder = "Seleccione Fecha" } })
                                                                @*@Html.EditorForModel(Model.fecNacimiento,ViewBag[""],null)*@
                                                                @Html.ValidationMessageFor(model => model.fecNacimiento, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--DEPARTAMENTO-->
                                                        <div class="form-group">
                                                            @Html.Label("lblRegion", "Región:", htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.DropDownList("idRegion", ViewData["idRegion"] as List<SelectListItem>, "-- Seleccionar --", htmlAttributes: new { @class = "form-control select" , @disabled="disabled" })
                                                            </div>
                                                        </div>

                                                        <!--PROVINCIA-->
                                                        <div class="form-group">
                                                            @Html.Label("lblProvincia", "Provincia :", htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.DropDownList("idProvincia", ViewData["idProvincia"] as List<SelectListItem>, "-- Seleccionar --", htmlAttributes: new { @class = "form-control select", @disabled = "disabled" })
                                                            </div>
                                                        </div>

                                                        <!--DISTRITO-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.idDistrito, "Distrito:", htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.DropDownList("idDistrito", null as SelectList, "-- Seleccionar --", htmlAttributes: new { @class = "form-control select", @disabled = "disabled", })
                                                                @Html.ValidationMessageFor(model => model.idDistrito, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--GENRE-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.sexo, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.DropDownList("sexo", ViewData["sexo"] as List<SelectListItem>, "-- Seleccionar --", htmlAttributes: new { @class = "form-control" , @disabled="disabled" })
                                                                @Html.ValidationMessageFor(model => model.sexo, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--EMAIL-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.email01, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.email01, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese Email" } })
                                                                @Html.ValidationMessageFor(model => model.email01, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--ADDRESS-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.direccion01, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.direccion01, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese Dirección" } })
                                                                @Html.ValidationMessageFor(model => model.direccion01, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--PHOTO-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.pathFoto, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-4">
                                                                <input id="pathFoto" disabled="disabled" readonly="readonly" class="form-control" />
                                                                @Html.ValidationMessageFor(model => model.pathFoto, "", new { @class = "text-danger" })
                                                            </div>
                                                            <div class="col-md-4">
                                                                <!---button class="btn-success viewModalPhoto" data-id="">Cargar</!--button-->
                                                                <a id="viewModalPhoto" class="btn btn-success icon-btn viewModalPhoto" data-id="">
                                                                    <i class="fa fa-fw fa-lg fa-image">
                                                                    </i>Cargar
                                                                </a>&nbsp;&nbsp;&nbsp;
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-12" style="text-align: center;">
                                            <div class="card">
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <a id="btn_siguiente" value="" class="btn btn-warning icon-btn">
                                                                <i class="fa fa-fw fa-lg fa-link">
                                                                </i>Siguiente
                                                            </a>&nbsp;&nbsp;&nbsp;
                                                            <a class="btn btn-default icon-btn" href="@Url.Action("Index","Paciente")">
                                                                <i class="fa fa-fw fa-lg fa-times-circle"></i>Cancelar
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>



                                    <!--INFBÁSICO2-->
                                    <div role="tabpanel" class="tab-pane fade" id="tab2" aria-labelledby="profile-tab">
                                        <div class="form-horizontal">
                                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                            <div class="col-md-6">
                                                <div class="card">
                                                    <!-- **********PARTE 1******** -->
                                                    <!---h3 class="card-title">*</!--h3-->
                                                    <div class="card-body">

                                                        <!--EMAIL2-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.email02, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.email02, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese Email (opcional)" } })
                                                                @Html.ValidationMessageFor(model => model.email02, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--PHONE2-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.numTelefonico02, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.numTelefonico02, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese N° de Teléfono/Celular (opcional)", @onkeypress = "return solonumeros(event)", @onpaste = "return copyNumero(event)" } })
                                                                @Html.ValidationMessageFor(model => model.numTelefonico02, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--ADDRESS2-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.direccion02, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.direccion02, new { htmlAttributes = new { @class = "form-control", placeholder = "Ingrese Dirección (opcional)" } })
                                                                @Html.ValidationMessageFor(model => model.direccion02, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--VÍA-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.idVia, "Via:", htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.DropDownList("idVia", null as SelectList, "-- Seleccionar --", htmlAttributes: new { @class = "form-control",@disabled="disabled" })
                                                                @Html.ValidationMessageFor(model => model.idVia, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--NAMEVIA-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.nombreVia, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.nombreVia, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese Nombre de Vía" } })
                                                                @Html.ValidationMessageFor(model => model.nombreVia, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <!--*************RECORD-2*************-->
                                            <div class="col-md-6">
                                                <div class="card">
                                                    <!---h3 class="card-title">Básica 2</h3-->
                                                    <div class="card-body">

                                                        <!--NUMBERVIA-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.numVia, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.numVia, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese N° de Vía" } })
                                                                @Html.ValidationMessageFor(model => model.numVia, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--ZONE-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.idZona, "Zona:", htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.DropDownList("idZona", null as SelectList, "-- Seleccionar --", htmlAttributes: new { @class = "form-control", disabled="disabled" })
                                                                @Html.ValidationMessageFor(model => model.idZona, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--NAMEZONE-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.nombreZona, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.nombreZona, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", placeholder = "Ingrese Nombre de Zona" } })
                                                                @Html.ValidationMessageFor(model => model.nombreZona, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <!--DEAD-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.difunto, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                <div class="animated-checkbox">
                                                                    <div class="toggle-flip">
                                                                        <label>
                                                                            <input type="checkbox" id="idcheckDifunto" disabled><span class="flip-indecator" data-toggle-on="SI" data-toggle-off="NO"></span>
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                                <div class="checkbox" style="display:none;">
                                                                    @Html.EditorFor(model => model.difunto , new { htmlAttributes = new { @disabled="disabled" }  })
                                                                    @Html.ValidationMessageFor(model => model.difunto, "", new { @class = "text-danger" })
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!--DATEDEAD-->
                                                        <div class="form-group">
                                                            @Html.LabelFor(model => model.fecDefuncion, htmlAttributes: new { @class = "control-label col-md-3" })
                                                            <div class="col-md-8">
                                                                @Html.EditorFor(model => model.fecDefuncion, new { htmlAttributes = new { @class = "form-control datetime", @readonly = "readonly", @type = "text", @placeholder = "Seleccione Fecha" } })
                                                                @Html.ValidationMessageFor(model => model.fecDefuncion, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            @Html.Partial("~/Views/Shared/_ConfirmationCreate.cshtml")
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
            <!--***FINCITA***-->
            <!--*******************************************FIN***********************************-->
        </div>
    </div>
</div>
<div>
    @Html.Partial("~/Views/Shared/_ReturnIndex.cshtml")
</div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel" style="text-align:center;">... Cargar Imagen ...</h4>
            </div>
            <div class="modal-body">
                <br />
                @Html.Partial("~/Views/Persona/Imagen/_UploadImage.cshtml")
                <br />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" iddi="btnClose">Close</button>
                <button type="button" class="btn btn-primary" id="btnCargar" data-mostrar="" disabled>Cargar</button>
            </div>
        </div>
    </div>
</div>





@section Scripts{
    <script type="text/javascript">
        //MOSTRAR MODAL FOTO
        $('.viewModalPhoto').click(function () {
            var idPersona = $(this).attr("data-id");
            $("#btnCargar").attr("data-mostrar", idPersona);
            $("#myModal").modal();
        });
    </script>
}

<script src="~/Scripts/jq/jquery-3.1.1.min.js"></script>


@**INICIALIZAR DETALLE*@
<script type="text/javascript">
    $(document).ready(function () {
        $("#btn_submit").hide();
        $("#btn_submit").attr("disabled", true);
        $("#btn_submitActualizar").hide();
        $("#btn_submitActualizar").attr("disabled", true);
        $("#btn_submitEditar").attr("href", "@Url.Action("Edit","Persona",new { id=Model.idPersona})");
    })

    $("#btn_siguiente").click(function () {
        cambiarTab();
    })
</script>

<script id="FunctionUtilitarios" type="text/javascript">
    //CAMBIAR TAB
    function cambiarTab() {
        //$('.nav-tabs a:last').tab('show')
        $('.nav-tabs a[href="#tab2"]').tab('show')
    }

</script>

<script src="~/Scripts/Plugins/select2.min.js"></script>
<script type="text/javascript">
  $('.select').select2();
</script>


<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
@*@Scripts.Render("~/bundles/jqueryval")*@


